
# æœ€çµ‚å½¢ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆï¼ˆTypeScriptå¯¾å¿œï¼‰
jinro-linebot/
â”œâ”€â”€ .env                          # LINE APIã‚­ãƒ¼ãªã©
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ README.md
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                  # ã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªï¼ˆExpress + Webhook + Ngrokï¼‰
â”‚
â”‚   â”œâ”€â”€ bot/                      # LINE SDKã¾ã‚ã‚Š
â”‚   â”‚   â”œâ”€â”€ lineClient.ts         # MessagingApiClientã®åˆæœŸåŒ–
â”‚   â”‚   â”œâ”€â”€ middleware.ts         # webhookã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â”œâ”€â”€ handlers/             # LINEã‚¤ãƒ™ãƒ³ãƒˆã”ã¨ã®å‡¦ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ messageHandler.ts # å…¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã“ã“ã§å‡¦ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ joinHandler.ts    # @å‚åŠ  ãªã©
â”‚   â”‚   â”‚   â””â”€â”€ phaseHandler.ts   # æ˜¼ãƒ»å¤œãƒ•ã‚§ãƒ¼ã‚ºåˆ‡æ›¿ãªã©
â”‚   â”‚   â”œâ”€â”€ reply/                # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ helpMessage.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ startMessage.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ utils/                # push, reply ãªã©ã®å…±é€šå‡¦ç†
â”‚   â”‚       â”œâ”€â”€ replyText.ts
â”‚   â”‚       â”œâ”€â”€ pushToUser.ts
â”‚   â”‚       â””â”€â”€ getProfile.ts
â”‚
â”‚   â”œâ”€â”€ game/                     # ã‚²ãƒ¼ãƒ é€²è¡Œãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ gameManager.ts        # ã‚²ãƒ¼ãƒ é–‹å§‹/çµ‚äº†ã€ãƒ•ã‚§ãƒ¼ã‚ºé€²è¡Œåˆ¶å¾¡
â”‚   â”‚   â”œâ”€â”€ roomManager.ts        # ãƒ«ãƒ¼ãƒ ã”ã¨ã®å‚åŠ è€…ãƒ»çŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ playerManager.ts      # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±ã®è¿½åŠ ãƒ»å½¹è·ä»˜ä¸ãªã©
â”‚   â”‚   â”œâ”€â”€ roleAssigner.ts       # é…å½¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ããƒ©ãƒ³ãƒ€ãƒ å‰²ã‚Šå½“ã¦
â”‚   â”‚   â”œâ”€â”€ voteManager.ts        # æŠ•ç¥¨é›†è¨ˆå‡¦ç†
â”‚   â”‚   â”œâ”€â”€ nightPhase.ts         # å¤œã®å‡¦ç†ï¼ˆè¥²æ’ƒãƒ»å ã„ï¼‰
â”‚   â”‚   â”œâ”€â”€ dayPhase.ts           # æ˜¼ã®å‡¦ç†ï¼ˆè­°è«–ãƒ»è¿½æ”¾ï¼‰
â”‚   â”‚   â””â”€â”€ winJudge.ts           # å‹æ•—åˆ¤å®š
â”‚
â”‚   â”œâ”€â”€ config/                   # å½¹è·ãƒ»å®šæ•°ãƒ»è¨­å®š
â”‚   â”‚   â”œâ”€â”€ roles.ts              # å„å½¹è·ã®æƒ…å ±ãƒ»å‹åˆ©æ¡ä»¶ãƒ»èƒ½åŠ›
â”‚   â”‚   â”œâ”€â”€ patterns.ts           # é…å½¹ãƒ‘ã‚¿ãƒ¼ãƒ³â‘ ã€œâ‘¨ãªã©
â”‚   â”‚   â””â”€â”€ constants.ts          # ãƒ•ã‚§ãƒ¼ã‚ºåãªã©ã®å›ºå®šæ–‡å­—åˆ—
â”‚
â”‚   â”œâ”€â”€ data/                     # çŠ¶æ…‹ä¿å­˜ï¼ˆé–‹ç™ºä¸­ã¯in-memoryã€å°†æ¥çš„ã«DBåŒ–ï¼‰
â”‚   â”‚   â””â”€â”€ rooms.ts              # ãƒ«ãƒ¼ãƒ æƒ…å ±ã‚’ã‚°ãƒ«ãƒ¼ãƒ—IDã”ã¨ã«ä¿æŒ
â”‚
â”‚   â”œâ”€â”€ types/                    # TypeScriptã®å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ room.d.ts             # Roomå‹ï¼ˆgroupId, players, state...ï¼‰
â”‚   â”‚   â”œâ”€â”€ player.d.ts           # Playerå‹ï¼ˆuserId, displayName, role...ï¼‰
â”‚   â”‚   â”œâ”€â”€ role.d.ts             # Roleå‹ã€å½¹è·ã®åŠ¹æœãªã©
â”‚   â”‚   â””â”€â”€ index.d.ts

# æ‹¡å¼µå¯èƒ½æ€§ï¼ˆæœªæ¥ã®æƒ³å®šï¼‰
æ‹¡å¼µå¯¾è±¡	å¯¾å¿œæ–¹æ³•
ğŸ”¸ 7äººä»¥ä¸Šã®é…å½¹	config/patterns.ts ã«ãƒ‡ãƒ¼ã‚¿è¿½åŠ ã™ã‚‹ã ã‘
ğŸ”¸ GASé€£æº	gameManager.ts ã§çµæœã‚’GASçµŒç”±ã§è¨˜éŒ²
ğŸ”¸ ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–	data/rooms.ts ã‚’ Firestore ã‚„ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã«ç½®ãæ›ãˆ
ğŸ”¸ Web UIè¡¨ç¤º	åˆ¥é€” Next.js ãƒ•ãƒ­ãƒ³ãƒˆã¨é€£æºã‚‚å¯èƒ½
ğŸ”¸ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«	.json or .yml ã«èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ 